# Metamorphic Relations for REST API testing

Metamorphic Relation (MR), Source Input, Transformation of the input, Output Check
"MR1: Equivalence", "GET /data/deviceA", "Repeat the request", "Both responses should be equivalent"
"MR2: Equality", "GET /data/deviceA/configurations?orderBy=timestamp", "Repeat the request", "Both responses should be equal"
"MR3: Subset", "GET /data/deviceA/interfaces", "GET /data/deviceA/interfaces?filter=type:Ethernet", "Filtered response should be a subset of the original"
"MR4: Disjoint", "GET /data/deviceA/interfaces?filter=type:Ethernet", "GET /data/deviceA/interfaces?filter=type:Optical", "Responses should have no common elements"
"MR5: Complete", "GET /data/deviceA/configurations?limit=10&page=1", "GET /data/deviceA/configurations?limit=10&page=2", "Combined responses should equal to 'GET /data/deviceA/configurations'"
"MR6: Difference", "GET /data/deviceA/routes", "GET /data/deviceA/routes?exclude=static", "Responses should differ by static routes"
"MR7: Check Reversed Order", "GET /data/deviceA/logs?orderBy=timestamp", "GET /data/deviceA/logs?orderBy=timestamp&order=desc", "Second response should have items in reverse order of the first"
"MR8: Default Values", "GET /data/deviceA/interfaces/interface1", "Modify interface1 with default values and GET", "Responses should be equivalent"
"MR9: Node Existence", "POST /data/deviceA/newNode", "GET /data/deviceA/newNode", "The node should exist in the output"
"MR10: Remove Node", "DELETE /data/deviceA/newNode", "GET /data/deviceA/newNode", "The node should not exist"
"MR11: Update Check", "PATCH /data/deviceA/interface1 with new values", "GET /data/deviceA/interface1", "Updated values should reflect in output"
"MR12: Configuration Persistence", "GET /data/deviceA/configurations", "Restart service and GET /data/deviceA/configurations", "Both configurations should be equivalent"
"MR13: Default vs Explicit", "GET /data/deviceA/interfaces?limit=10", "GET /data/deviceA/interfaces", "Responses should be equivalent assuming default limit is 10"
"MR14: Pagination Completeness", "GET /data/deviceA/routes?limit=50&page=1", "GET /data/deviceA/routes?limit=50&page=2", "Combining both should cover all routes assuming <= 100 routes"
"MR15: Filtering Consistency", "GET /data/deviceA/logs", "GET /data/deviceA/logs?filter=severity:error", "Filtered results should be subset of first and have severity 'error'"
"MR16: Check Empty Set", "GET /data/deviceA/interfaces?filter=type:NonExistentType", "GET /data/deviceA/interfaces", "First response should be empty"
"MR17: Field Update Check", "PATCH /data/deviceA/interface1 with new description", "GET /data/deviceA/interface1", "Updated description should reflect in output"
"MR18: Check Null", "PATCH /data/deviceA/interface1 with null value", "GET /data/deviceA/interface1", "Field should either be null or have default value in output"
"MR19: Range Query", "GET /data/deviceA/logs?timestamp=after:2023-01-01", "GET /data/deviceA/logs", "Filtered response should be a subset of the unfiltered response"
"MR20: Duplicate Check", "POST duplicate /data/deviceA/interface1", "GET /data/deviceA/interfaces", "Response shouldn't have duplicates"
"MR21: Case Insensitivity", "GET /data/deviceA/INTERFACES", "GET /data/deviceA/interfaces", "Responses should be equivalent"
"MR22: Field Expansion", "GET /data/deviceA/interface1 with select fields", "GET /data/deviceA/interface1", "First response should be subset of the second"
"MR23: Depth Query", "GET /data/deviceA/routes with depth=1", "GET /data/deviceA/routes", "Depth limited response should be a subset of full depth response"
"MR24: Check Associated Data", "GET /data/deviceA/interface1/routes", "GET /data/deviceA/routes?filter=interface:interface1", "Responses should be equivalent"
"MR25: Check Metadata", "GET /data/deviceA/interface1 with metadata", "GET /data/deviceA/interface1", "First should contain additional metadata fields"
"MR26: Compression Equivalence", "GET /data/deviceA/configurations with compression", "GET /data/deviceA/configurations", "Decompressed first response should be equivalent to second"
"MR27: Schema Validation", "POST invalid schema to /data/deviceA/interfaces", "GET /data/deviceA/interfaces", "Invalid entry shouldn't appear in response"
"MR28: Versioning Consistency", "GET /data/deviceA/interface1?version=1.0", "GET /data/deviceA/interface1", "Assuming default version is 1.0, responses should be equivalent"
"MR29: Redundancy Elimination", "POST duplicate /data/deviceA/routes", "GET /data/deviceA/routes", "Response should eliminate redundant entries"
"MR30: Dependency Adherence", "DELETE /data/deviceA/interface1", "GET /data/deviceA/interface1/routes", "Routes associated with interface1 should be deleted or orphaned"
"MR31: Alias Testing", "GET /data/deviceA/if1 (where if1 is an alias for interface1)", "GET /data/deviceA/interface1", "Responses should be equivalent"
"MR32: Default Behavior", "GET /data/deviceA/interface1 without optional fields", "GET /data/deviceA/interface1 with defaults", "Responses should be equivalent"
"MR33: Inverse Query", "GET /data/deviceA/routes?inverseFilter=static", "GET /data/deviceA/routes?filter=dynamic", "Responses should be equivalent assuming binary categorization"
"MR34: Time Consistency", "GET /data/deviceA/logs at T1", "Wait and GET /data/deviceA/logs at T2", "Second should be a superset of the first"
"MR35: Boundary Check", "POST excessive nodes to /data/deviceA/interfaces beyond limit", "GET /data/deviceA/interfaces", "Should respect the limit and potentially provide an error for excess"
"MR36: Permission Layers", "GET /data/deviceA/configurations as admin", "GET /data/deviceA/configurations as user", "Admin should potentially see more data"
"MR37: Multi-value Consistency", "GET /data/deviceA/routes?type=static,dynamic", "GET /data/deviceA/routes?type=static UNION GET /data/deviceA/routes?type=dynamic", "Responses should be equivalent"
"MR38: Role-based View", "GET /data/deviceA/interface1 as admin", "GET /data/deviceA/interface1 as user", "Admin might see more fields/details"
"MR39: Conditional Fetch", "GET /data/deviceA/logs if-modified-since T1", "GET /data/deviceA/logs", "First should be subset of the second"
"MR40: Pagination Overlap", "GET /data/deviceA/routes?limit=10&page=1", "GET /data/deviceA/routes?limit=5&page=2", "Some overlap might exist in results"
"MR41: Caching Consistency", "GET /data/deviceA/routes with caching", "GET /data/deviceA/routes without caching", "Responses should be equivalent"
"MR42: History Consistency", "GET /data/deviceA/configurations?at=T1", "GET /data/deviceA/configurations", "Former might be subset if configurations change over time"
"MR43: Redirection Consistency", "GET /data/deviceB/interface1 that redirects to deviceA", "GET /data/deviceA/interface1", "Responses should be equivalent"
"MR44: Locale Sensitivity", "GET /data/deviceA/logs?locale=en-US", "GET /data/deviceA/logs?locale=fr-FR", "Entries are equivalent, possible difference in localization"
"MR45: Timezone Adherence", "GET /data/deviceA/logs?timezone=UTC", "GET /data/deviceA/logs?timezone=PST", "Entries are equivalent, timestamps adjusted for timezones"
"MR46: Link Expansion", "GET /data/deviceA/interface1 with link expansions", "GET /data/deviceA/interface1 and manual follow links", "Responses should be equivalent"
"MR47: Graceful Degradation", "Introduce fault, GET /data/deviceA/configurations", "GET /data/deviceA/configurations normally", "First may have lesser data but shouldn't fail completely"
"MR48: Error Message Consistency", "GET non-existent /data/deviceA/interfaceX", "GET another non-existent /data/deviceA/interfaceY", "Error messages should be equivalent in format"
"MR49: Backward Compatibility", "GET /data/deviceA/routes with old API version", "GET /data/deviceA/routes with new API version", "Old API version might be subset of new or have different formats"
"MR50: Search Consistency", "Search /data/deviceA?query='interface'", "GET /data/deviceA/interfaces", "Search results should closely match direct GET"
"MR51: Subset with Different Query Params", "GET /data/deviceA/logs", "GET /data/deviceA/logs?filter=severity:info", "Filtered response should be a subset of the original"
