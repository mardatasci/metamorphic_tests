"Metamorphic Relation (MR)","Source Input","Transformation of the input","Output Check"
"MR1: Idempotency","SELECT * FROM tableA","Repeat the same SELECT query","Result sets should be identical."
"MR2: Commutativity","SELECT col1, col2 FROM tableA","SELECT col2, col1 FROM tableA","Result sets should have columns reversed but same row data."
"MR3: Association","(SELECT * FROM tableA WHERE col1 = value) UNION (SELECT * FROM tableB WHERE col1 = value)","SELECT * FROM tableA, tableB WHERE tableA.col1 = tableB.col1 AND tableA.col1 = value","Result sets should be identical."
"MR4: Aggregation","SELECT SUM(col1) FROM tableA","SELECT col1 FROM tableA","The sum in the first query should equal the sum of all values in the second query's result."
"MR5: Distributivity","SELECT col1 + col2 FROM tableA","SELECT col1 FROM tableA + SELECT col2 FROM tableA","Result sets should be identical."
"MR6: Redundancy elimination","INSERT INTO tableA (col1, col1) VALUES (value1, value1)","INSERT INTO tableA (col1) VALUES (value1)","Both queries should have the same effect."
"MR7: Reversibility","INSERT INTO tableA (col1) VALUES (value)","DELETE FROM tableA WHERE col1 = value","The row should no longer be present after both operations."
"MR8: Invariance under permutation","SELECT * FROM tableA ORDER BY col1","SELECT * FROM tableA ORDER BY col1 DESC","Result sets should be in reverse order."
"MR9: Additivity","INSERT INTO tableA (col1) VALUES (value1), (value2)","INSERT INTO tableA (col1) VALUES (value1); INSERT INTO tableA (col1) VALUES (value2)","Both sequences should produce the same final table state."
"MR10: Update consistency","UPDATE tableA SET col1 = value1 WHERE col2 = value2","Change value2 and then execute the update","The number of rows updated should be consistent with the number of rows that matched the changed value2."
"MR11: Field transformation","SELECT col1 FROM tableA WHERE col2 = UPPER(value)","SELECT col1 FROM tableA WHERE UPPER(col2) = UPPER(value)","Result sets should be identical."
"MR12: Boundary testing","SELECT * FROM tableA WHERE col1 < value","SELECT * FROM tableA WHERE col1 <= value","Second result set should include all rows from the first plus any rows with col1 equal to value."
"MR13: Null checking","SELECT * FROM tableA WHERE col1 IS NULL","SELECT * FROM tableA WHERE col1 = ''","Results will depend on DB's treatment of NULL vs empty string."
"MR14: Aggregate functions","SELECT AVG(col1), SUM(col1), MAX(col1) FROM tableA","SELECT col1 FROM tableA","Values from the first query should be consistent with the distribution of values in the second query's result."
"MR15: Join consistency","SELECT * FROM tableA JOIN tableB ON tableA.col1 = tableB.col1","SELECT * FROM tableA, tableB WHERE tableA.col1 = tableB.col1","Result sets should be identical."
"MR16: Count consistency","SELECT COUNT(*) FROM tableA","SELECT * FROM tableA","The count from the first query should match the number of rows in the second query's result."
"MR17: Limit offset","SELECT * FROM tableA LIMIT 10 OFFSET 5","SELECT * FROM tableA LIMIT 15; and then only consider rows 6-15","Result sets should be identical."
"MR18: Date transformation","SELECT * FROM tableA WHERE dateCol = CURDATE()","Change system date and execute the query again","Results should reflect entries of the updated date."
"MR19: Table aliasing","SELECT * FROM tableA AS A JOIN tableB AS B ON A.col1 = B.col1","SELECT * FROM tableA JOIN tableB ON tableA.col1 = tableB.col1","Result sets should be identical."
"MR20: Data type coercion","SELECT * FROM tableA WHERE col1 = '5'","SELECT * FROM tableA WHERE col1 = 5","Depending on how DB handles type coercion, results may be identical."
"MR21: Like vs Equals","SELECT * FROM tableA WHERE col1 LIKE 'value%'","SELECT * FROM tableA WHERE col1 = 'value'","First result should include second result, possibly with additional rows."
"MR22: NULL handling","SELECT * FROM tableA WHERE col1 IS NULL","SELECT * FROM tableA WHERE col1 = ''","Depending on DB's NULL handling, results may differ."
"MR23: Column default value","INSERT INTO tableA (col2) VALUES (value); Then, SELECT col1 FROM tableA WHERE col2 = value","Do not insert but directly SELECT col1 FROM tableA WHERE col2 = value","The selected column values should match the default value for col1."
"MR24: String function consistency","SELECT UPPER(col1) FROM tableA","SELECT LOWER(UPPER(col1)) FROM tableA","Results should reflect the lowercased version of the uppercased values."
"MR25: Arithmetic operations","SELECT col1 + col2 FROM tableA","SELECT col1 FROM tableA + SELECT col2 FROM tableA","Result sets should be identical."
"MR26: In-Subquery","SELECT * FROM tableA WHERE col1 IN (SELECT col1 FROM tableB)","JOIN tableA and tableB on col1 and fetch results","Results should be identical given FK-PK relationship."
"MR27: Column reference","SELECT * FROM tableA ORDER BY 1","SELECT * FROM tableA ORDER BY col1","Result sets should be identical."
"MR28: Grouping consistency","SELECT col1, COUNT(*) FROM tableA GROUP BY col1","SELECT col1 FROM tableA","Number of unique values in second query should match the number of rows in the first query."
"MR29: Having vs Where","SELECT col1 FROM tableA GROUP BY col1 HAVING COUNT(*) > 1","SELECT col1, COUNT(*) FROM tableA GROUP BY col1; then filter those > 1","Result sets should be identical."
"MR30: Order By consistency","SELECT * FROM tableA ORDER BY col1, col2","SELECT * FROM tableA ORDER BY col2, col1","Result sets should not be identical, unless col1 and col2 are dependent."
"MR31: Union vs Union All","SELECT col1 FROM tableA UNION SELECT col1 FROM tableB","SELECT col1 FROM tableA UNION ALL SELECT col1 FROM tableB; then remove duplicates","Results should be identical."
"MR32: Case handling","SELECT * FROM tableA WHERE UPPER(col1) = 'VALUE'","SELECT * FROM tableA WHERE col1 = 'value' or col1 = 'VALUE'","Result sets should be identical."
"MR33: Distinct usage","SELECT DISTINCT col1 FROM tableA","SELECT col1 FROM tableA","Second result might have duplicate values absent in the first."
"MR34: Self-Join","SELECT A.col1 FROM tableA A, tableA B WHERE A.col1 = B.col2","SELECT col1 FROM tableA WHERE EXISTS (SELECT 1 FROM tableA B WHERE tableA.col1 = B.col2)","Results should be identical."
"MR35: Conditional aggregate","SELECT col1, SUM(CASE WHEN col2 > value THEN 1 ELSE 0 END) FROM tableA GROUP BY col1","Iteratively fetch rows using WHERE col2 > value and then aggregate","Results should be identical."
"MR36: Time-based retrieval","SELECT * FROM tableA WHERE timeCol BETWEEN time1 AND time2","SELECT * FROM tableA WHERE timeCol > time1 AND timeCol < time2","The first result should encompass the second, possibly with additional rows at the boundaries."
"MR37: Temporary table usage","CREATE TEMP TABLE Temp AS (SELECT * FROM tableA); Then, SELECT * FROM Temp","SELECT * FROM tableA","Result sets should be identical."
"MR38: Indexing check","Run query on indexed column","Run query on non-indexed column","First query should generally execute faster."
"MR39: Insert Select","INSERT INTO tableA SELECT * FROM tableB WHERE col1 = value; Then, SELECT * FROM tableA WHERE col1 = value","SELECT * FROM tableB WHERE col1 = value","Result sets should be identical."
"MR40: Not Null filtering","SELECT * FROM tableA WHERE col1 IS NOT NULL","SELECT * FROM tableA","Second result should encompass the first, with additional rows where col1 is NULL."
"MR41: String concatenation","SELECT CONCAT(col1, col2) FROM tableA","SELECT col1 || col2 FROM tableA","Result sets should be identical."
"MR42: Date functions","SELECT DAY(col1), MONTH(col1), YEAR(col1) FROM tableA","Fetch raw date from tableA and manually extract day, month, and year","Results should be identical."
"MR43: Length check","SELECT * FROM tableA WHERE LENGTH(col1) > value","Fetch data from tableA and manually check string length","Results should be identical."
"MR44: Wildcard usage","SELECT * FROM tableA WHERE col1 LIKE '%value%'","Fetch data from tableA and check for 'value' substring","Results should be identical."
"MR45: Empty table","DELETE FROM tableA; Then, SELECT * FROM tableA","SELECT * FROM tableA WHERE 1=0","Result sets should be empty and identical."
"MR46: Data type conversion","SELECT CAST(col1 AS INT) FROM tableA WHERE ISNUMERIC(col1) = 1","Filter out non-numeric values from col1 and manually convert to integer","Results should be identical."
"MR47: Mathematical functions","SELECT ROUND(col1, 2) FROM tableA","Manually round off values in col1 to 2 decimal places","Results should be identical."
"MR48: Top vs Limit","SELECT TOP 10 * FROM tableA","SELECT * FROM tableA LIMIT 10","Result sets should be identical (assuming DB supports both commands)."
"MR49: Referential integrity","DELETE FROM parentTable WHERE col1 = value; Then, SELECT * FROM childTable WHERE parentCol = value","Directly SELECT * FROM childTable WHERE parentCol = value","Results from the child table should have no reference to the deleted value from the parent table."
"MR50: Nested queries","SELECT col1 FROM (SELECT * FROM tableA WHERE col2 = value1) AS subQuery WHERE col3 = value2","SELECT col1 FROM tableA WHERE col2 = value1 AND col3 = value2","Result sets should be identical."
